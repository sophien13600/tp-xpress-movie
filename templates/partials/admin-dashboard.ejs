<div class="container mt-4">
  <div class="row">
    <div class="col-12">
      <div
        class="d-flex flex-column justify-content-between align-items-center mb-4"
      >
        <div class="col-10">
          <div
            class="d-flex flex-row justify-content-between align-items-center mb-4"
          >
            <h1 class="h2">Gestion des Films</h1>
            <a href="/admin/add-film" class="btn btn-primary"> Ajouter un Film </a>
          </div>
        </div>
        <div class="card">
          <div class="card-body">
            <% if (films && films.length > 0) { %>
            <div class="table-responsive">
              <table class="table table-striped table-hover">
                <thead class="table-dark">
                  <tr>
                    <th>ID</th>
                    <th>Image</th>
                    <th>Titre</th>
                    <th>Genre</th>
                    <th>Date de sortie</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <% films.forEach(film => { %>
                  <tr>
                    <td><%= film.id %></td>
                    <td>
                      <img src="<%= film.image %>" alt="<%= film.titre %>" />
                    </td>
                    <td>
                      <strong><%= film.titre %></strong>
                      <br />
                      <small class="text-muted">
                        <%= film.description.length > 100 ?
                        film.description.substring(0, 100) + '...' :
                        film.description %>
                      </small>
                    </td>
                    <td><%= film.genre %></td>
                    <td>
                      <%= new Date(film.dateSortie).toLocaleDateString('fr-FR')
                      %>
                    </td>
                    <td>
                      <div class="btn-group" role="group">
                        <a
                          href="/admin/films/edit/<%= film.id %>"
                          class="btn btn-sm btn-outline-primary"
                          title="Modifier"
                        >
                          modifier
                        </a>
                        <button
                          type="button"
                          class="btn btn-sm btn-outline-danger"
                          title="Supprimer"
                        >
                          supprimer
                        </button>
                      </div>
                    </td>
                  </tr>
                  <% }); %>
                </tbody>
              </table>
            </div>
            <% } %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
